CFLAGS = @CFLAGS@ -I../AppliLib/include -I./include -I../CommonLib/include
.c.o:
	@CC@ $(CFLAGS) $< -o $@

LIB = libParse

SOURCES = \
	./SParse/SParse.c \
	./FileReader/FileReader.c \
	./Grammar1/Grammar1.c

HEADERS = $(SOURCES:.c=.h)

OBJECTS = $(SOURCES:.c=.o)

all: libParse.a

libParse.a: includes $(OBJECTS)

	@MAKELIB@ $(OBJECTS)
	@RANLIB@ $@

includes:
	mkdir -p include
	for f in $(HEADERS); do \
	    ln -sf .$$f -t include; \
	done
	
clean:
	@CLEAN@ include $(OBJECTS) libParse.a
